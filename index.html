<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Ordering System</title>

    <!-- PyScript setup -->
    <link rel="stylesheet" href="https://pyscript.net/releases/2025.7.3/core.css">
    <script type="module" src="https://pyscript.net/releases/2025.7.3/core.js"></script>
</head>
<body style="text-align: center; background-color: rgb(0, 0, 0);">


    <h1 style="background-color: rgb(183, 0, 0);">Dummy's Shop</h1>

    <h3 style="background-color: rgb(183, 0, 0);"> Menu </h3>
    <div style="background-color: rgb(183, 0, 0); color: black; width: 250px; margin-left: 40.3%; margin-right: 40.3%;"">
        <label><input type="checkbox" id="bloxycola"> Bloxy Cola (50 TIX)</label><br>
        <label><input type="checkbox" id="witchesbrew"> Witches Brew (100 TIX)</label><br>
        <label><input type="checkbox" id="slate"> Slateskin Potion (150 TIX)</label><br><br>
    </div>

    <h3 style="background-color: rgb(183, 0, 0);"> Order Details </h3>
    <div style="background-color: rgb(183, 0, 0); color: black; padding: 10px; width: 250px; margin-left: 40.3%; margin-right: 40.3%;">
        <label>Name:</label>
        <input type="text" id="customer_name"><br><br>

        <label>Address:</label>
        <input type="text" id="customer_address"><br><br>

        <label>Contact:</label>
        <input type="text" id="customer_contact"><br><br>
    <button py-click="confirm_order">Confirm Order</button>
    </div>

    <div style="background-color: black;">
    <h3 style="background-color: rgb(183, 0, 0);">Receipt:</h3>
    <div style="color: white;" id="receipt"></div>
    </div>

    <!-- inline for easier access -->
    <py-script>
        from pyscript import display, document

        bloxy_price = 50
        witches_price = 100
        slate_price = 150

        def confirm_order(e):
            bloxy_selected = document.getElementById("bloxycola").checked
            witches_selected = document.getElementById("witchesbrew").checked
            slate_selected = document.getElementById("slate").checked

            name = document.getElementById("customer_name").value
            address = document.getElementById("customer_address").value
            contact = document.getElementById("customer_contact").value

            
            total = 0
            order_items = ""
            if bloxy_selected:
                total += bloxy_price
                order_items += "Bloxy Cola "
            if witches_selected:
                total += witches_price
                order_items += "Witches Brew "
            if slate_selected:
                total += slate_price
                order_items += "Slateskin Potion "

            text = (
                f"Order for {name}<br>"
                f"Address: {address}<br>"
                f"Contact: {contact}<br>"
                f"Ordered: {order_items}<br>"
                f"Total Amount: {total}"
            )
            display(f'Order for {name} || Address: {address} || Contact: {contact} || Cart: {order_items} || Total Amount: {total} TIX', target='receipt', append=False)

    </py-script>
</body>
</html>
